!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e,n){t.exports=n(18)},function(t,e,n){var r=n(11);t.exports=function(t){return new r(t)}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(20),o=n(21),i=n(22),a=n(23);t.exports=function(t){return r(t)||o(t)||i(t)||a()}},function(t,e,n){var r=n(19);t.exports=function(t){return function(){return new r(t.apply(this,arguments))}}},function(t,e){t.exports=function(t){var e;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(e=t[Symbol.asyncIterator]))return e.call(t);if(Symbol.iterator&&null!=(e=t[Symbol.iterator]))return e.call(t)}throw new TypeError("Object is not async iterable")}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,u,"next",t)}function u(t){n(a,o,i,s,u,"throw",t)}s(void 0)}))}}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t){this.wrapped=t}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){var r=n(24);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(25);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(7),o=n(26);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},,,function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function f(){}function p(){}var y={};y[o]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(S([])));v&&v!==e&&n.call(v,o)&&(y=v);var b=p.prototype=h.prototype=Object.create(y);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var u=c(t[o],t,i);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=b.constructor=p,p.constructor=f,f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(m.prototype),m.prototype[i]=function(){return this},t.AsyncIterator=m,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new m(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(b),s(b,a,"Generator"),b[o]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(11);function o(t){var e,n;function o(e,n){try{var a=t[e](n),s=a.value,u=s instanceof r;Promise.resolve(u?s.wrapped:s).then((function(t){u?o("return"===e?"return":"next",t):i(a.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){i("throw",t)}}function i(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?o(e.key,e.arg):n=null}this._invoke=function(t,r){return new Promise((function(i,a){var s={key:t,arg:r,resolve:i,reject:a,next:null};n?n=n.next=s:(e=n=s,o(t,r))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(t){return this._invoke("next",t)},o.prototype.throw=function(t){return this._invoke("throw",t)},o.prototype.return=function(t){return this._invoke("return",t)},t.exports=o},function(t,e,n){var r=n(12);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var r=n(12);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(10);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(9),a=n.n(i),s=n(8),u=n.n(s),c=n(1),l=n.n(c),h=n(5),f=n.n(h),p=n(6),y=n.n(p),d=n(2),v=n.n(d),b=n(3),g=n.n(b);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x={batchSize:"auto",convertToObject:!0},O=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v()(this,t),n=w(w({},x),n),this.schema=e,this.batchSize=n.batchSize,this.convertToObject=n.convertToObject,this.rows=null,this.length=0,this.isChunkComplete=!1,this.cursor=0,!Array.isArray(e))for(var r in this._headers=[],e)this._headers[e[r].index]=e[r].name}return g()(t,[{key:"addRow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.rows||(this.rows=new Array(this.batchSize),this.length=0),Number.isFinite(e)&&(this.cursor=e),this.rows[this.length]=this.convertToObject?k(t,this._headers):t,this.length++}},{key:"chunkComplete",value:function(){this.isChunkComplete=!0}},{key:"isFull",value:function(){return"auto"===this.batchSize?this.isChunkComplete&&this.length>0:this.rows&&this.length>=this.batchSize}},{key:"getBatch",value:function(){if(this.rows){var t=this.rows.slice(0,this.length);return this.rows=null,this.isChunkComplete=!1,{data:t,schema:this.schema,length:t.length,cursor:this.cursor}}return null}}]),t}();function k(t,e){if(!t)throw new Error("null row");if(!Array.isArray(t))return t;if(!e)return t;for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}var S=n(4),P=n.n(S);function j(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=L(t);return I(t,n,{coordLength:e.coordLength||n.coordLength,numericPropKeys:e.numericPropKeys||n.numericPropKeys,PositionDataType:e.PositionDataType||Float32Array})}function L(t){var e,n,r=0,o=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=new Set,p={},y=j(t);try{for(y.s();!(e=y.n()).done;){var d=e.value,v=d.geometry;switch(v.type){case"Point":o++,r++,f.add(v.coordinates.length);break;case"MultiPoint":o++,r+=v.coordinates.length;var b,g=j(v.coordinates);try{for(g.s();!(b=g.n()).done;){var m=b.value;f.add(m.length)}}catch(t){g.e(t)}finally{g.f()}break;case"LineString":s++,i+=v.coordinates.length,a++;var w,x=j(v.coordinates);try{for(x.s();!(w=x.n()).done;){var O=w.value;f.add(O.length)}}catch(t){x.e(t)}finally{x.f()}break;case"MultiLineString":s++;var k,S=j(v.coordinates);try{for(S.s();!(k=S.n()).done;){var A=k.value;i+=A.length,a++;var E,L=j(A);try{for(L.s();!(E=L.n()).done;){var I=E.value;f.add(I.length)}}catch(t){L.e(t)}finally{L.f()}}}catch(t){S.e(t)}finally{S.f()}break;case"Polygon":h++,c++,l+=v.coordinates.length,u+=J(v.coordinates).length;var _,C=j(J(v.coordinates));try{for(C.s();!(_=C.n()).done;){var N=_.value;f.add(N.length)}}catch(t){C.e(t)}finally{C.f()}break;case"MultiPolygon":h++;var U,T=j(v.coordinates);try{for(T.s();!(U=T.n()).done;){var R=U.value;c++,l+=R.length,u+=J(R).length;var F,B=j(J(R));try{for(B.s();!(F=B.n()).done;){var M=F.value;f.add(M.length)}}catch(t){B.e(t)}finally{B.f()}}}catch(t){T.e(t)}finally{T.f()}break;default:throw new Error("Unsupported geometry type: ".concat(v.type))}if(d.properties)for(var z in d.properties){var D=d.properties[z];p[z]=p[z]||void 0===p[z]?(n=D,Number.isFinite(n)):p[z]}}}catch(t){y.e(t)}finally{y.f()}return{pointPositionsCount:r,pointFeaturesCount:o,linePositionsCount:i,linePathsCount:a,lineFeaturesCount:s,coordLength:Math.max.apply(Math,P()(f)),polygonPositionsCount:u,polygonObjectsCount:c,polygonRingsCount:l,polygonFeaturesCount:h,numericPropKeys:Object.keys(p).filter((function(t){return p[t]}))}}function I(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.pointPositionsCount,o=e.pointFeaturesCount,i=e.linePositionsCount,a=e.linePathsCount,s=e.lineFeaturesCount,u=e.polygonPositionsCount,c=e.polygonObjectsCount,l=e.polygonRingsCount,h=e.polygonFeaturesCount,f=n.coordLength,p=n.numericPropKeys,y=n.PositionDataType,d=void 0===y?Float32Array:y,v=t.length>65535?Uint32Array:Uint16Array,b={positions:new d(r*f),globalFeatureIds:new v(r),featureIds:o>65535?new Uint32Array(r):new Uint16Array(r),numericProps:{},properties:[]},g={pathIndices:i>65535?new Uint32Array(a+1):new Uint16Array(a+1),positions:new d(i*f),globalFeatureIds:new v(i),featureIds:s>65535?new Uint32Array(i):new Uint16Array(i),numericProps:{},properties:[]},m={polygonIndices:u>65535?new Uint32Array(c+1):new Uint16Array(c+1),primitivePolygonIndices:u>65535?new Uint32Array(l+1):new Uint16Array(l+1),positions:new d(u*f),globalFeatureIds:new v(u),featureIds:h>65535?new Uint32Array(u):new Uint16Array(u),numericProps:{},properties:[]},w=0,x=[b,g,m];w<x.length;w++){var O,k=x[w],S=j(p);try{for(S.s();!(O=S.n()).done;){var P=O.value;k.numericProps[P]=new Float32Array(k.positions.length/f)}}catch(t){S.e(t)}finally{S.f()}}g.pathIndices[a]=i,m.polygonIndices[c]=u,m.primitivePolygonIndices[l]=u;var A,E={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0},L=j(t);try{for(L.s();!(A=L.n()).done;){var I=A.value,B=I.geometry,z=I.properties;switch(B.type){case"Point":_(B.coordinates,b,E,f,z),b.properties.push(M(z,p)),E.pointFeature++;break;case"MultiPoint":C(B.coordinates,b,E,f,z),b.properties.push(M(z,p)),E.pointFeature++;break;case"LineString":N(B.coordinates,g,E,f,z),g.properties.push(M(z,p)),E.lineFeature++;break;case"MultiLineString":U(B.coordinates,g,E,f,z),g.properties.push(M(z,p)),E.lineFeature++;break;case"Polygon":T(B.coordinates,m,E,f,z),m.properties.push(M(z,p)),E.polygonFeature++;break;case"MultiPolygon":R(B.coordinates,m,E,f,z),m.properties.push(M(z,p)),E.polygonFeature++;break;default:throw new Error("Invalid geometry type")}E.feature++}}catch(t){L.e(t)}finally{L.f()}return F(b,g,m,f)}function _(t,e,n,r,o){e.positions.set(t,n.pointPosition*r),e.globalFeatureIds[n.pointPosition]=n.feature,e.featureIds[n.pointPosition]=n.pointFeature,B(e,o,n.pointPosition,1),n.pointPosition++}function C(t,e,n,r,o){var i,a=j(t);try{for(a.s();!(i=a.n()).done;){_(i.value,e,n,r,o)}}catch(t){a.e(t)}finally{a.f()}}function N(t,e,n,r,o){e.pathIndices[n.linePath]=n.linePosition,n.linePath++,z(e.positions,t,n.linePosition,r);var i=t.length;B(e,o,n.linePosition,i),e.globalFeatureIds.set(new Uint32Array(i).fill(n.feature),n.linePosition),e.featureIds.set(new Uint32Array(i).fill(n.lineFeature),n.linePosition),n.linePosition+=i}function U(t,e,n,r,o){var i,a=j(t);try{for(a.s();!(i=a.n()).done;){N(i.value,e,n,r,o)}}catch(t){a.e(t)}finally{a.f()}}function T(t,e,n,r,o){e.polygonIndices[n.polygonObject]=n.polygonPosition,n.polygonObject++;var i,a=j(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;e.primitivePolygonIndices[n.polygonRing]=n.polygonPosition,n.polygonRing++,z(e.positions,s,n.polygonPosition,r);var u=s.length;B(e,o,n.polygonPosition,u),e.globalFeatureIds.set(new Uint32Array(u).fill(n.feature),n.polygonPosition),e.featureIds.set(new Uint32Array(u).fill(n.polygonFeature),n.polygonPosition),n.polygonPosition+=u}}catch(t){a.e(t)}finally{a.f()}}function R(t,e,n,r,o){var i,a=j(t);try{for(a.s();!(i=a.n()).done;){T(i.value,e,n,r,o)}}catch(t){a.e(t)}finally{a.f()}}function F(t,e,n,r){var o={points:{positions:{value:t.positions,size:r},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:t.numericProps,properties:t.properties},lines:{pathIndices:{value:e.pathIndices,size:1},positions:{value:e.positions,size:r},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:e.numericProps,properties:e.properties},polygons:{polygonIndices:{value:n.polygonIndices,size:1},primitivePolygonIndices:{value:n.primitivePolygonIndices,size:1},positions:{value:n.positions,size:r},globalFeatureIds:{value:n.globalFeatureIds,size:1},featureIds:{value:n.featureIds,size:1},numericProps:n.numericProps,properties:n.properties}};for(var i in o)for(var a in o[i].numericProps)o[i].numericProps[a]={value:o[i].numericProps[a],size:1};return o}function B(t,e,n,r){for(var o in t.numericProps)o in e&&t.numericProps[o].set(new Array(r).fill(e[o]),n)}function M(t,e){for(var n in t)e.includes(n)&&delete t[n];return t}function z(t,e,n,r){var o,i=n*r,a=j(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.set(s,i),i+=r}}catch(t){a.e(t)}finally{a.f()}}function J(t){var e;return(e=[]).concat.apply(e,P()(t))}var D=n(7),G=n.n(D);function Y(t,e){try{var n=JSON.parse(t);return e.json.table&&function t(e){if(Array.isArray(e))return e;if(e&&"object"===G()(e))for(var n=0,r=Object.values(e);n<r.length;n++){var o=r[n],i=t(o);if(i)return i}return null}(n)||n}catch(t){throw new Error("JSONLoader: failed to parse JSON")}}function V(t,e){return K.apply(this,arguments)}function K(){return(K=f()(o.a.mark((function t(e,n){var r,i,a,s,u,c,h,f;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new TextDecoder(n),i=!0,a=!1,t.prev=3,u=y()(e);case 5:return t.next=7,l()(u.next());case 7:return c=t.sent,i=c.done,t.next=11,l()(c.value);case 11:if(h=t.sent,i){t.next=19;break}return f=h,t.next=16,"string"==typeof f?f:r.decode(f,{stream:!0});case 16:i=!0,t.next=5;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(3),a=!0,s=t.t0;case 25:if(t.prev=25,t.prev=26,i||null==u.return){t.next=30;break}return t.next=30,l()(u.return());case 30:if(t.prev=30,!a){t.next=33;break}throw s;case 33:return t.finish(30);case 34:return t.finish(25);case 35:case"end":return t.stop()}}),t,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}var $=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3?arguments[3]:void 0;v()(this,t),this.TableBatchType=e,this.schema=n,this.batchSize=r,this.batch=null,this.batchCount=0,this.bytesUsed=0,this.options=o}return g()(t,[{key:"addRow",value:function(t){if(!this.batch){var e=this.TableBatchType;this.batch=new e(this.schema,this.batchSize,this.options)}this.batch.addRow(t)}},{key:"chunkComplete",value:function(t){this.bytesUsed+=t.byteLength||t.length||0,this.batch&&this.batch.chunkComplete()}},{key:"isFull",value:function(){return this.batch&&this.batch.isFull()}},{key:"hasBatch",value:function(){return Boolean(this.batch)}},{key:"getBatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Number.isFinite(t.bytesUsed)&&(this.bytesUsed=t.bytesUsed),this.batch){var e=this.batch.getBatch();return this.batch=null,e.count=this.batchCount,this.batchCount++,e.bytesUsed=this.bytesUsed,Object.assign(e,t),e}return null}}]),t}(),q=n(13),X=n.n(q),H=n(14),W=n.n(H),Q=n(15),Z=n.n(Q),tt=n(10),et=n.n(tt),nt=Number.MAX_SAFE_INTEGER,rt="debug"==={}.CDEBUG,ot={textNode:void 0,numberNode:""},it=0,at={BEGIN:it++,VALUE:it++,OPEN_OBJECT:it++,CLOSE_OBJECT:it++,OPEN_ARRAY:it++,CLOSE_ARRAY:it++,TEXT_ESCAPE:it++,STRING:it++,BACKSLASH:it++,END:it++,OPEN_KEY:it++,CLOSE_KEY:it++,TRUE:it++,TRUE2:it++,TRUE3:it++,FALSE:it++,FALSE2:it++,FALSE3:it++,FALSE4:it++,NULL:it++,NULL2:it++,NULL3:it++,NUMBER_DECIMAL_POINT:it++,NUMBER_DIGIT:it++};for(var st in at)at[at[st]]=st;it=at;var ut=9,ct=10,lt=13,ht=32,ft=34,pt=43,yt=44,dt=45,vt=46,bt=48,gt=57,mt=58,wt=69,xt=91,Ot=92,kt=93,St=97,Pt=98,jt=101,At=102,Et=108,Lt=110,It=114,_t=115,Ct=116,Nt=117,Ut=123,Tt=125;var Rt=/[\\"\n]/g,Ft=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v()(this,t),this._initialize(e)}return g()(t,[{key:"_initialize",value:function(t){this._clearBuffers(this),this.bufferCheckPosition=nt,this.q="",this.c="",this.p="",this.options=t||{},this.closed=!1,this.closedRoot=!1,this.sawRoot=!1,this.tag=null,this.error=null,this.state=it.BEGIN,this.stack=new Array,this.position=this.column=0,this.line=1,this.slashed=!1,this.unicodeI=0,this.unicodeS=null,this.depth=0,"onready"in t&&(this.onready=t.onready),"onopenobject"in t&&(this.onopenobject=t.onopenobject),"onkey"in t&&(this.onkey=t.onkey),"oncloseobject"in t&&(this.oncloseobject=t.oncloseobject),"onopenarray"in t&&(this.onopenarray=t.onopenarray),"onclosearray"in t&&(this.onclosearray=t.onclosearray),"onvalue"in t&&(this.onvalue=t.onvalue),"onerror"in t&&(this.onerror=t.onerror),"onend"in t&&(this.onend=t.onend),"onchunkparsed"in t&&(this.onchunkparsed=t.onchunkparsed),Bt(this,"onready")}},{key:"_clearBuffers",value:function(){for(var t in ot)this[t]=ot[t]}},{key:"end",value:function(){return this.state===it.VALUE&&0===this.depth||Dt(this,"Unexpected end"),zt(this),this.c="",this.closed=!0,Bt(this,"onend"),this._initialize(this.options),this}},{key:"resume",value:function(){return this.error=null,this}},{key:"close",value:function(){return this.write(null)}},{key:"write",value:function(t){if(this.error)throw this.error;if(this.closed)return Dt(this,"Cannot write after close. Assign an onready handler.");if(null===t)return this.end();var e=0,n=t.charCodeAt(0),r=this.p;for(rt&&console.log("write -> ["+t+"]");n&&(r=n,this.c=n=t.charCodeAt(e++),r!==n?this.p=r:r=this.p,n);)switch(rt&&console.log(e,n,at[this.state]),this.position++,n===ct?(this.line++,this.column=0):this.column++,this.state){case it.BEGIN:n===Ut?this.state=it.OPEN_OBJECT:n===xt?this.state=it.OPEN_ARRAY:Gt(n)||Dt(this,"Non-whitespace before {[.");continue;case it.OPEN_KEY:case it.OPEN_OBJECT:if(Gt(n))continue;if(this.state===it.OPEN_KEY)this.stack.push(it.CLOSE_KEY);else{if(n===Tt){Bt(this,"onopenobject"),this.depth++,Bt(this,"oncloseobject"),this.depth--,this.state=this.stack.pop()||it.VALUE;continue}this.stack.push(it.CLOSE_OBJECT)}n===ft?this.state=it.STRING:Dt(this,'Malformed object key should start with "');continue;case it.CLOSE_KEY:case it.CLOSE_OBJECT:if(Gt(n))continue;this.state,it.CLOSE_KEY;n===mt?(this.state===it.CLOSE_OBJECT?(this.stack.push(it.CLOSE_OBJECT),zt(this,"onopenobject"),this.depth++):zt(this,"onkey"),this.state=it.VALUE):n===Tt?(Mt(this,"oncloseobject"),this.depth--,this.state=this.stack.pop()||it.VALUE):n===yt?(this.state===it.CLOSE_OBJECT&&this.stack.push(it.CLOSE_OBJECT),zt(this),this.state=it.OPEN_KEY):Dt(this,"Bad object");continue;case it.OPEN_ARRAY:case it.VALUE:if(Gt(n))continue;if(this.state===it.OPEN_ARRAY){if(Bt(this,"onopenarray"),this.depth++,this.state=it.VALUE,n===kt){Bt(this,"onclosearray"),this.depth--,this.state=this.stack.pop()||it.VALUE;continue}this.stack.push(it.CLOSE_ARRAY)}n===ft?this.state=it.STRING:n===Ut?this.state=it.OPEN_OBJECT:n===xt?this.state=it.OPEN_ARRAY:n===Ct?this.state=it.TRUE:n===At?this.state=it.FALSE:n===Lt?this.state=it.NULL:n===dt?this.numberNode+="-":bt<=n&&n<=gt?(this.numberNode+=String.fromCharCode(n),this.state=it.NUMBER_DIGIT):Dt(this,"Bad value");continue;case it.CLOSE_ARRAY:if(n===yt)this.stack.push(it.CLOSE_ARRAY),zt(this,"onvalue"),this.state=it.VALUE;else if(n===kt)Mt(this,"onclosearray"),this.depth--,this.state=this.stack.pop()||it.VALUE;else{if(Gt(n))continue;Dt(this,"Bad array")}continue;case it.STRING:void 0===this.textNode&&(this.textNode="");var o=e-1,i=this.slashed,a=this.unicodeI;t:for(;;){for(rt&&console.log(e,n,at[this.state],i);a>0;)if(this.unicodeS+=String.fromCharCode(n),n=t.charCodeAt(e++),this.position++,4===a?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),a=0,o=e-1):a++,!n)break t;if(n===ft&&!i){this.state=this.stack.pop()||it.VALUE,this.textNode+=t.substring(o,e-1),this.position+=e-1-o;break}if(n===Ot&&!i&&(i=!0,this.textNode+=t.substring(o,e-1),this.position+=e-1-o,n=t.charCodeAt(e++),this.position++,!n))break;if(i){if(i=!1,n===Lt?this.textNode+="\n":n===It?this.textNode+="\r":n===Ct?this.textNode+="\t":n===At?this.textNode+="\f":n===Pt?this.textNode+="\b":n===Nt?(a=1,this.unicodeS=""):this.textNode+=String.fromCharCode(n),n=t.charCodeAt(e++),this.position++,o=e-1,n)continue;break}Rt.lastIndex=e;var s=Rt.exec(t);if(null===s){e=t.length+1,this.textNode+=t.substring(o,e-1),this.position+=e-1-o;break}if(e=s.index+1,!(n=t.charCodeAt(s.index))){this.textNode+=t.substring(o,e-1),this.position+=e-1-o;break}}this.slashed=i,this.unicodeI=a;continue;case it.TRUE:n===It?this.state=it.TRUE2:Dt(this,"Invalid true started with t"+n);continue;case it.TRUE2:n===Nt?this.state=it.TRUE3:Dt(this,"Invalid true started with tr"+n);continue;case it.TRUE3:n===jt?(Bt(this,"onvalue",!0),this.state=this.stack.pop()||it.VALUE):Dt(this,"Invalid true started with tru"+n);continue;case it.FALSE:n===St?this.state=it.FALSE2:Dt(this,"Invalid false started with f"+n);continue;case it.FALSE2:n===Et?this.state=it.FALSE3:Dt(this,"Invalid false started with fa"+n);continue;case it.FALSE3:n===_t?this.state=it.FALSE4:Dt(this,"Invalid false started with fal"+n);continue;case it.FALSE4:n===jt?(Bt(this,"onvalue",!1),this.state=this.stack.pop()||it.VALUE):Dt(this,"Invalid false started with fals"+n);continue;case it.NULL:n===Nt?this.state=it.NULL2:Dt(this,"Invalid null started with n"+n);continue;case it.NULL2:n===Et?this.state=it.NULL3:Dt(this,"Invalid null started with nu"+n);continue;case it.NULL3:n===Et?(Bt(this,"onvalue",null),this.state=this.stack.pop()||it.VALUE):Dt(this,"Invalid null started with nul"+n);continue;case it.NUMBER_DECIMAL_POINT:n===vt?(this.numberNode+=".",this.state=it.NUMBER_DIGIT):Dt(this,"Leading zero not followed by .");continue;case it.NUMBER_DIGIT:bt<=n&&n<=gt?this.numberNode+=String.fromCharCode(n):n===vt?(-1!==this.numberNode.indexOf(".")&&Dt(this,"Invalid number has two dots"),this.numberNode+="."):n===jt||n===wt?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||Dt(this,"Invalid number has two exponential"),this.numberNode+="e"):n===pt||n===dt?(r!==jt&&r!==wt&&Dt(this,"Invalid symbol in number"),this.numberNode+=String.fromCharCode(n)):(Jt(this),e--,this.state=this.stack.pop()||it.VALUE);continue;default:Dt(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(t){var e=Math.max(nt,10),n=0;for(var r in ot){var o=void 0===t[r]?0:t[r].length;if(o>e)switch(r){case"text":closeText(t);break;default:Dt(t,"Max buffer length exceeded: "+r)}n=Math.max(n,o)}t.bufferCheckPosition=nt-n+t.position}(this),Bt(this,"onchunkparsed"),this}}]),t}();function Bt(t,e,n){rt&&console.log("-- emit",e,n),t[e]&&t[e](n,t)}function Mt(t,e,n){zt(t),Bt(t,e,n)}function zt(t,e){t.textNode=function(t,e){if(void 0===e)return e;t.trim&&(e=e.trim());t.normalize&&(e=e.replace(/\s+/g," "));return e}(t.options,t.textNode),void 0!==t.textNode&&Bt(t,e||"onvalue",t.textNode),t.textNode=void 0}function Jt(t){t.numberNode&&Bt(t,"onvalue",parseFloat(t.numberNode)),t.numberNode=""}function Dt(t,e){return zt(t),e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c,e=new Error(e),t.error=e,Bt(t,"onerror",e),t}function Gt(t){return t===lt||t===ct||t===ht||t===ut}function Yt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kt=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(v()(this,t),this.path=["$"],n instanceof t)this.path=P()(n.path);else if(Array.isArray(n))(e=this.path).push.apply(e,P()(n));else if("string"==typeof n&&(this.path=n.split("."),"$"!==this.path[0]))throw new Error("JSONPaths must start with $")}return g()(t,[{key:"clone",value:function(){return new t(this)}},{key:"toString",value:function(){return this.path.join(".")}},{key:"push",value:function(t){this.path.push(t)}},{key:"pop",value:function(){return this.path.pop()}},{key:"set",value:function(t){this.path[this.path.length-1]=t}},{key:"equals",value:function(t){if(!this||!t||this.path.length!==t.path.length)return!1;for(var e=0;e<this.path.length;++e)if(this.path[e]!==t.path[e])return!1;return!0}},{key:"setFieldAtPath",value:function(t,e){var n=P()(this.path);n.shift();var r,o=n.pop(),i=Yt(n);try{for(i.s();!(r=i.n()).done;){t=t[r.value]}}catch(t){i.e(t)}finally{i.f()}t[o]=e}},{key:"getFieldAtPath",value:function(t){var e=P()(this.path);e.shift();var n,r=e.pop(),o=Yt(e);try{for(o.s();!(n=o.n()).done;){t=t[n.value]}}catch(t){o.e(t)}finally{o.f()}return t[r]}}]),t}();function $t(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=et()(t);if(e){var o=et()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ht=function(t){W()(n,t);var e=Xt(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v()(this,n),t=e.call(this);var o=r.jsonpaths||[];return t.jsonPaths=o.map((function(t){return new Kt(t)})),t.streamingJsonPath=null,t.streamingArray=null,t.topLevelObject=null,t._extendParser(),t}return g()(n,[{key:"write",value:function(t){X()(et()(n.prototype),"write",this).call(this,t);var e=[];return this.streamingArray&&(e=P()(this.streamingArray),this.streamingArray.length=0),e}},{key:"getPartialResult",value:function(){return this.topLevelObject}},{key:"getStreamingJsonPath",value:function(){return this.streamingJsonPath}},{key:"getStreamingJsonPathAsString",value:function(){return this.streamingJsonPath&&this.streamingJsonPath.toString()}},{key:"getJsonPath",value:function(){return this.jsonpath}},{key:"_matchJSONPath",value:function(){var t=this.getJsonPath();if(0===this.jsonPaths.length)return!0;var e,n=$t(this.jsonPaths);try{for(n.s();!(e=n.n()).done;){if(e.value.equals(t))return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"_extendParser",value:function(){var t=this;this.parser.onopenarray=function(){if(!t.streamingArray&&t._matchJSONPath())return t.streamingJsonPath=t.getJsonPath().clone(),t.streamingArray=[],void t._openArray(t.streamingArray);t._openArray()},this.parser.onopenobject=function(e){t.topLevelObject?t._openObject({}):(t.topLevelObject={},t._openObject(t.topLevelObject)),void 0!==e&&t.parser.onkey(e)}}}]),n}(function(){function t(){v()(this,t),this.reset(),this._initializeParser()}return g()(t,[{key:"reset",value:function(){this.result=void 0,this.previousStates=[],this.currentState=Object.freeze({container:[],key:null}),this.jsonpath=new Kt}},{key:"write",value:function(t){this.parser.write(t)}},{key:"close",value:function(){this.parser.close()}},{key:"_pushOrSet",value:function(t){var e=this.currentState,n=e.container,r=e.key;null!==r?(n[r]=t,this.currentState.key=null):n.push(t)}},{key:"_openArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.jsonpath.push(null),this._pushOrSet(t),this.previousStates.push(this.currentState),this.currentState={container:t,isArray:!0,key:null}}},{key:"_closeArray",value:function(){this.jsonpath.pop(),this.currentState=this.previousStates.pop()}},{key:"_openObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.jsonpath.push(null),this._pushOrSet(t),this.previousStates.push(this.currentState),this.currentState={container:t,isArray:!1,key:null}}},{key:"_closeObject",value:function(){this.jsonpath.pop(),this.currentState=this.previousStates.pop()}},{key:"_initializeParser",value:function(){var t=this;this.parser=new Ft({onready:function(){t.jsonpath=new Kt,t.previousStates.length=0,t.currentState.container.length=0},onopenobject:function(e){t._openObject({}),void 0!==e&&t.parser.onkey(e)},onkey:function(e){t.jsonpath.set(e),t.currentState.key=e},oncloseobject:function(){t._closeObject()},onopenarray:function(){t._openArray()},onclosearray:function(){t._closeArray()},onvalue:function(e){t._pushOrSet(e)},onerror:function(t){throw t},onend:function(){t.result=t.currentState.container.pop()}})}}]),t}());function Wt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zt(t,e){return te.apply(this,arguments)}function te(){return(te=f()(o.a.mark((function t(e,n){var r,i,a,s,u,c,h,f,p,d,v,b,g,m,w,x,O,k,S,P,j,A,E,L,I,_,C,N;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=V(e),r=n.metadata,i=n.json,a=i.batchSize,s=i._rootObjectBatches,u=i.jsonpaths,c=n.json.TableBatch,h=!0,f=null,p=null,d=new Ht({jsonpaths:u}),f=f||new $(c,p,{batchSize:a}),v=!0,b=!1,t.prev=11,m=y()(e);case 13:return t.next=15,l()(m.next());case 15:return w=t.sent,v=w.done,t.next=19,l()(w.value);case 19:if(x=t.sent,v){t.next=61;break}if(O=x,k=d.write(O),S=k.length>0&&d.getStreamingJsonPathAsString(),!(k.length>0&&h)){t.next=35;break}if(!r){t.next=29;break}return P={batchType:"partial-result",container:d.getPartialResult(),data:[],bytesUsed:0,schema:null,jsonpath:S},t.next=29,P;case 29:if(!s){t.next=33;break}return j={batchType:"root-object-batch-partial",container:d.getPartialResult(),data:[],schema:null},t.next=33,j;case 33:h=!1,p=ee(k);case 35:A=Wt(k),t.prev=36,A.s();case 38:if((E=A.n()).done){t.next=46;break}if(L=E.value,f.addRow(L),!f.isFull()){t.next=44;break}return t.next=44,f.getBatch({jsonpath:S});case 44:t.next=38;break;case 46:t.next=51;break;case 48:t.prev=48,t.t0=t.catch(36),A.e(t.t0);case 51:return t.prev=51,A.f(),t.finish(51);case 54:if(f.chunkComplete(O),!f.isFull()){t.next=58;break}return t.next=58,f.getBatch({jsonpath:S});case 58:v=!0,t.next=13;break;case 61:t.next=67;break;case 63:t.prev=63,t.t1=t.catch(11),b=!0,g=t.t1;case 67:if(t.prev=67,t.prev=68,v||null==m.return){t.next=72;break}return t.next=72,l()(m.return());case 72:if(t.prev=72,!b){t.next=75;break}throw g;case 75:return t.finish(72);case 76:return t.finish(67);case 77:if(I=d.getStreamingJsonPathAsString(),!(_=f.getBatch({jsonpath:I}))){t.next=82;break}return t.next=82,_;case 82:if(!r){t.next=86;break}return C={batchType:"final-result",container:d.getPartialResult(),jsonpath:d.getStreamingJsonPathAsString(),data:[],schema:null},t.next=86,C;case 86:if(!s){t.next=90;break}return N={batchType:"root-object-batch-complete",container:d.getPartialResult(),data:[],schema:null},t.next=90,N;case 90:case"end":return t.stop()}}),t,null,[[11,63,67,77],[36,48,51,54],[68,,72,76]])})))).apply(this,arguments)}function ee(t){var e=t[0],n={},r=0;for(var o in e){var i=e[o];switch(G()(i)){case"number":case"boolean":n[o]={name:String(o),index:r,type:Float32Array};break;case"object":n[o]={name:String(o),index:r,type:Array};break;case"string":default:n[o]={name:String(o),index:r,type:Array}}r++}return n}function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var oe={geojson:{TableBatch:O,batchSize:"auto",workerUrl:"https://unpkg.com/@loaders.gl/json@".concat("2.3.0-alpha.12","/dist/geojson-loader.worker.js")},json:{jsonpaths:["$","$.features"]},gis:{format:"geojson"}},ie=re(re({},{id:"geojson",name:"GeoJSON",version:"2.3.0-alpha.12",extensions:["geojson"],mimeTypes:["application/geo+json"],category:"geometry",text:!0,options:oe}),{},{parse:function(t,e){return ae.apply(this,arguments)},parseTextSync:se,parseInBatches:function(t,e){return ue.apply(this,arguments)}});function ae(){return(ae=a()(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",se((new TextDecoder).decode(e),n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function se(t,e){(e=re(re({},oe),e)).json=re(re({},oe.geojson),e.geojson),e.gis=e.gis||{};var n=Y(t,e);switch(e.gis.format){case"binary":return E(n);default:return n}}function ue(){return(ue=a()(o.a.mark((function t(e,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=re(re({},oe),n)).json=re(re({},oe.geojson),n.geojson),r=Zt(e,n),t.t0=n.gis.format,t.next="binary"===t.t0?6:7;break;case 6:return t.abrupt("return",ce(r));case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ce(t){return le.apply(this,arguments)}function le(){return(le=f()(o.a.mark((function t(e){var n,r,i,a,s,u,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,r=!1,t.prev=2,a=y()(e);case 4:return t.next=6,l()(a.next());case 6:return s=t.sent,n=s.done,t.next=10,l()(s.value);case 10:if(u=t.sent,n){t.next=19;break}return(c=u).data=E(c.data),t.next=16,c;case 16:n=!0,t.next=4;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(2),r=!0,i=t.t0;case 25:if(t.prev=25,t.prev=26,n||null==a.return){t.next=30;break}return t.next=30,l()(a.return());case 30:if(t.prev=30,!r){t.next=33;break}throw i;case 33:return t.finish(30);case 34:return t.finish(25);case 35:case"end":return t.stop()}}),t,null,[[2,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function he(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n||new Set;if(t){if(fe(t))r.add(t);else if(fe(t.buffer))r.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"===G()(t))for(var o in t)he(t[o],e,r)}else;return void 0===n?Array.from(r):[]}function fe(t){return!!t&&(t instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&t instanceof MessagePort||("undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)))}function pe(t,e){if(!t)throw new Error(e||"loader assertion failed.")}function ye(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2.3.0-alpha.12";pe(t,"no loader provided");var n=t.version;e&&n&&(e=de(e),n=de(n))}function de(t){var e=t.split(".").map(Number);return{major:e[0],minor:e[1]}}function ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ge(t){return me.apply(this,arguments)}function me(){return(me=a()(o.a.mark((function t(e){var n,r,i,a,s,u,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.loader,r=e.arraybuffer,e.byteOffset,e.byteLength,i=e.options,a=e.context,!n.parseSync&&!n.parse){t.next=6;break}s=r,u=n.parseSync||n.parse,t.next=13;break;case 6:if(!n.parseTextSync){t.next=12;break}c=new TextDecoder,s=c.decode(r),u=n.parseTextSync,t.next=13;break;case 12:throw new Error("Could not load data with ".concat(n.name," loader"));case 13:return i=be(be({},i),{},{modules:n&&n.options&&n.options.modules||{},worker:!1}),t.next=16,u(s,be({},i),a,n);case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function we(t,e){return t&&"parse"===t.type&&t.source&&t.source.startsWith("loaders.gl")}!function(t){if("undefined"!=typeof self){var e=0,n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return new Promise((function(o,i){var a=e++;self.addEventListener("message",(function t(e){var n=e.data;if(n&&n.id===a)switch(n.type){case"parse-done":self.removeEventListener("message",t),o(n.result);break;case"parse-error":self.removeEventListener("message",t),i(n.message)}})),self.postMessage({type:"parse",id:a,arraybuffer:t,options:n,url:r},[t])}))};self.onmessage=function(){var e=a()(o.a.mark((function e(r){var i,a,s,u,c,l,h,f,p,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.data,e.prev=1,we(i,t.name)){e.next=4;break}return e.abrupt("return");case 4:return ye(t,i.source.split("@")[1]),a=i.arraybuffer,s=i.byteOffset,u=void 0===s?0:s,c=i.byteLength,l=void 0===c?0:c,h=i.options,f=void 0===h?{}:h,e.next=8,ge({loader:t,arraybuffer:a,byteOffset:u,byteLength:l,options:f,context:{parse:n}});case 8:p=e.sent,y=he(p),self.postMessage({type:"done",result:p},y),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),self.postMessage({type:"error",message:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()}}(ie)}]);